{% macro research( item ) %}

<div id="project-{{ item.shortname|lower|replace(' ', '-', 'g') }}"
    class=" grid-tile col-xs-12 col-sm-6 col-lg-4 mb2"
    data-publish-date="{{ item.publish_date }}"
    data-sort-value="{% for value in merge( item.topics, item.region ) %}{{ value.name|lower|replace(' ', '-', 'g') }} {% endfor %}">

    <a href="{{ url( item ) }}">
        <div class="project-tile-wrapper card-wrapper research-wrapper" style="background: url({{ item.images|first|imageSize(750,750)}}); background-size:cover; background-position:center center;">

            <div class="project-tile-overlay card-tile-overlay research-tile-overlay p2">
                <div class="">
                    <h6 class="card-content-type"><span class="research-label uppercase white bold">Research</span></h6>
                </div>
                <div class="project-tile-title">
                    <h3 class="project-tile-title-large">{{ item.name }}</h3>
                </div>
                <h5 class="project-tile-topics white bold">
                    {% for topic in item.topics %}
                        <span class="white">{{ topic.name }}</span>{% if !loop.last %}, {% endif %}
                    {% endfor %}
                </h5>
            </div>
        </div>
    </a>

</div>

{% endmacro %}



{% macro result( item ) %}

<div id="result-{{ item.shortname|lower|replace(' ', '-', 'g') }}"
    class=" grid-tile col-xs-12 col-sm-6 col-lg-4 mb2"
    data-publish-date="{{ item.publish_date }}"
    data-sort-value="{% for value in merge( item.research_topics, item.output_type ) %}{{ value.name|lower|replace(' ', '-', 'g') }}{% endfor %}">

    <a href="{{ url( item ) }}">
        <div class="project-tile-wrapper card-wrapper results-wrapper" {% if item.image %} style="background: url({{ item.image|imageSize(750,750)}}); background-size:cover; background-position:center center;"{% endif %} >

        <div class="project-tile-overlay card-tile-overlay result-tile-overlay {% if !item.image %}no-image{% endif %} p2">
                <div class="">
                    <h6 class="card-content-type"><span class="results-label uppercase white bold">{% if item.evidencemap %}Data & Tools{% else %}{{ item.output_type.name }}{% endif %}</span></h6>
                </div>
                <div class="project-tile-title">
                    <h3 class="project-tile-title-large">{{ item.name }}</h3>
                </div>
                <h5 class="project-tile-topics white bold">
                    <span class="">{{ item.publication_date|date('F Y') }}</span> {% if !item.evidencemap %}/ {% endif %}
                    {% for author in item.authors %}
                        <span class="">{{ author.name }}</span>{% if !loop.last %}, {% endif %}
                    {% endfor %}
                </h5>
            </div>
        </div>
    </a>

</div>

{% endmacro %}


{% macro update( item ) %}

<div id="update-{{ item.shortname|lower|replace(' ', '-', 'g') }}"
    class=" grid-tile col-xs-12 col-sm-6 col-lg-4 mb2"
    data-publish-date="{{ item.publish_date }}">

    <a href="{{ url( item ) }}">
        <div class="project-tile-wrapper card-wrapper updates-wrapper" style="background: url({{ item.cover_image|imageSize(750,750)}}); background-size:cover; background-position:center center;">

            <div class="project-tile-overlay card-tile-overlay updates-tile-overlay p2">
                <div class="">
                    <h6 class="card-content-type"><span class="updates-label uppercase white bold">Update</span></h6>
                </div>
                <div class="project-tile-title">
                    <h3 class="project-tile-title-large">{{ item.name }}</h3>
                </div>
                <h5 class="project-tile-topics white bold">
                    <span class="white">{{ item.publish_date|date('F Y') }}</span> /
                    {% for author in item.authors %}
                        <span class="white">{{ author.name }}</span>{% if !loop.last %}, {% endif %}
                    {% endfor %}
                </h5>
            </div>
        </div>
    </a>
</div>

{% endmacro %}

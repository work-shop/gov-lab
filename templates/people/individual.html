{% extends "templates/partials/base.html" %}

{% import "templates/partials/row-cards.html" as row %}

{% block og_title %}{% parent %} - {{ item.name }}{% endblock %}
{% block og_description %}{{ item.bio }}{% endblock %}
{% block og_image %}{{ item.image|imageSize(1000) }}{% endblock %}

{% block tw_title %}{% parent %} - {{ item.name }}{% endblock %}
{% block tw_description %}{{ item.bio }}{% endblock %}
{% block tw_image %}{{ item.image|imageSize(1000) }}{% endblock %}

{% block title %}{% parent %} - {{ item.name }}{% endblock %}

{% block content %}
<article id="person-{{ item.slug }}" class="bg-white">

  <section id="person-body" class="bg-light bg-white-xs">
  <div class="container-fluid">

    <div class="row">

      <div id="sidebar" class="sidebar col-sm-3 hidden-xs" aside-enter>
      {% set page = "person" %}
      {% include "templates/partials/aside.html" %}
      </div>

      <div class="col-sm-9 bg-white">
        <div class="row pb2 pt1">
            <div class="col-sm-offset-1 col-sm-11">
                <h2>{{ item.name }}</h2>
                <h4 class="italic">{{ item.role }}</h4>
            </div>
        </div>
        <div class="row pb4">
            <div class="projects-rule"></div>
        </div>
        <div class="row bg-white">
          <div class="col-sm-offset-1 col-sm-4 pb2 person-image">
            <div class="row pb2">
            <div class="col-xs-12">
                <img class="bio-image" src="{{ item.image|imageSize(1000) }}">
            </div>
            </div>
            {% if item.email %}
                <div class="row">
                <div class="col-xs-6">
                    <h6 class="uppercase bold">email</h6>
                </div>
                <div class="col-xs-6">
                    <h6><a href="mailto:{{ item.email }}">{{ item.email }}</a></h6>
                </div>
                </div>
            {% endif %}
            {% if item.twitter_handle %}
                <div class="row">
                <div class="col-xs-6">
                    <h6 class="uppercase bold">Twitter</h6>
                </div>
                <div class="col-xs-6">
                    <h6><a href="http://twitter.com/{{ item.twitter_handle }}">@{{ item.twitter_handle }}</a></h6>
                </div>
                </div>
            {% endif %}


          </div>
          <div class="col-sm-offset-1 col-sm-5 pb2 person-metadata">
              <div class="row">
              <div class="col-xs-12">
                <h6 class="uppercase bold mt0 mb2">About {{ item.name }}</h6>
              </div>
              </div>
            <div class="row pb2">
            <div class="col-xs-12">
                <p class="text">
                    {{ item.bio }}
                </p>
            </div>
            </div>
            {% if item.website %}
                <div class="row">
                <div class="col-xs-12">
                    <h6 class="uppercase bold"><a href="{{ item.website }}">Personal Website</a></h6>
                </div>
                </div>
            {% endif %}
        </div>
      </div>
    </div>
  </div>
  </section>

  {% if ( item.projects_team_members.length || item.news_author.length || item.output_author.length ) %}
  <section id="project-related" class="bg-light">
  <div class="container-fluid">
        <div class="row">
          <div class="col-sm-offset-3 col-sm-9 bg-white pb4 pt2">
            <div class="row">
              <div class="col-xs-offset-1 col-xs-10 mb2" >
                <div class="projects-rule"></div>
                    <h4>Related Work</h4>
              </div>
            </div>

            <div class="row">
            <ul class="mb2">
                {% for projectItem in item.projects_team_members %}
                    {{ row.project( projectItem ) }}
                {% endfor %}
                {% for researchItem in item.output_author %}
                    {{ row.research( researchItem ) }}
                {% endfor %}
                {% for updateItem in merge( item.news_author, item.updates )|uniq %}
                    {{ row.update( updateItem ) }}
                {% endfor %}
            </ul>
            </div>

          </div>

        </div>
  </div>
  </section>
  {% endif %}

</article>

{% set returnTo = {to: "About", url: "/about", aside: true } %}
{% include 'templates/partials/prefooter.html' %}

{% endblock %}
